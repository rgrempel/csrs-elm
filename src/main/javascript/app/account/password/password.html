<div class="row">
    <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-6 col-lg-offset-3">
        <h2 translate="password.title" translate-values="{username: '{{passwordController.account.login}}' }">Change Password</h2>

        <form name="changePasswordForm" role="form" novalidate ng-submit="passwordController.changePassword()">
            <div class="row">
                <div class="col-xs-6">
                    <div csrs-form-group>
                        <label>
                            <span translate="password.current">Current Password</span>
                            <input csrs-form-control auto-focus required name="currentPassword" type="password" 
                                   ng-model="passwordController.currentPassword" />
                        </label>

                        <p class="help-block alert alert-danger" ng-show="passwordController.passwordFailed" translate="password.failed">
                            Your password was not valid.
                        </p>
                        <p class="help-block" translate="password.forgotten">If you have forgotten ...</p>
                        <p csrs-help-block="required" translate="global.messages.validate.required">Required</p>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-xs-6">
                    <div csrs-form-group>
                        <label>
                            <span translate="global.form.newpassword">New password</span>
                            <input csrs-form-control type="password" name="password" 
                                   ng-model="passwordController.newPassword" ng-minlength="5" ng-maxlength="50" required />
                        </label>
                        
                        <password-strength-bar password-to-check="passwordController.newPassword"></password-strength-bar>
                       
                        <p csrs-help-block="required" translate="global.messages.validate.required">Your password is required.</p>
                        <p csrs-help-block="minlength" translate="global.messages.validate.newpassword.minlength">Must be at least 5 characters</p>
                    </div>
                </div>

                <div class="col-xs-6">
                    <div csrs-form-group>
                        <label>
                            <span translate="global.form.confirmpassword">New password confirmation</span>
                            <input csrs-form-control type="password" name="confirm_password" 
                                   csrs-validate-matches="passwordController.newPassword"
                                   ng-model="passwordController.confirmPassword">
                        </label>

                        <p csrs-help-block="csrsValidateMatches" translate="global.messages.error.dontmatch">Password confirmation does not match</p>
                    </div>
                </div>
            </div>

            <div class="row text-center">
                <button type="submit" class="btn btn-primary">
                    <span class="glyphicon glyphicon-send">&nbsp;</span><span translate="password.changePassword">Change Password</span>
                </button>
            </div>
        </form>

        <div class="alert alert-success" ng-show="passwordController.showSuccess">
            <p translate="password.messages.success">Password changed!</p>
        </div>

        <div csrs-error-occurred="password.serverError"></div>
    </div>
</div>
